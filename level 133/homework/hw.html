<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--Level 133:  
    შექმენით პირველი პრომისი, რომელიც:
    ▪აგენერირებს შემთხვევით რიცხვს 1–დან 15–მდე.
    ▪აგზავნის მოთხოვნას: 
    https://jsonplaceholder.typicode.com/users/${num}

    ▪თუ ასეთი მომხმარებელი მოიძებნა (response.ok == true) → resolve მომხმარებლის ინფო.
    ▪თუ ვერ მოიძებნა → reject შეცდომა.
    ექმენით მეორე პრომისი, რომელიც:
    ▪აგენერირებს შემთხვევით რიცხვს 1–დან 150–მდე.
    ▪აგზავნის მოთხოვნას: 
    https://jsonplaceholder.typicode.com/posts/${num}

    ▪თუ ასეთი პოსტი მოიძებნა (response.ok == true) → resolve პოსტის ინფო.
    ▪თუ ვერ მოიძებნა → reject შეცდომა.
    გამოიყენეთ Promise.all, რომ ორივე პრომისი პარალელურად გაეშვას.
    Promise.all მეთოდზე  გამოიყენეთ then და catch მეთოდები, 
    then დაბეჭდავს ორივე მიღებულ ინფოს (მომხმარებელი და პოსტი).
    catch reject ის შემთხვევაში დააკონსოლოგებს, რომ მონაცემები ვერ მოიძებნა-->

    <script>
        async function prom1() {
            return new Promise(async (res,rej)=>{
                let numb = Math.floor(Math.random() * 15) + 1
                try {
                    let url = await fetch(`https://jsonplaceholder.typicode.com/users/${numb}`)
                    if(!url.ok) throw new Error('user not found')
                    res(await url.json())
                } catch (error) {
                    rej('user not found2')
                }
            })
        }

        async function prom2(){
            return new Promise(async (res,rej)=>{
                let numb = Math.floor(Math.random() * 15) + 1
                try {
                    let url = await fetch(`https://jsonplaceholder.typicode.com/posts/${numb}`)
                    if(!url.ok) throw new Error('user not found')
                    res(await url.json())
                } catch (error) {
                    rej('post not found2')
                }
            })
        }

        Promise.all([prom1(),prom2()])
            .then(data=>console.log(data,'idk'))
            .catch(data=>console.log(data,'rej'))
    </script>
</body>

</html>